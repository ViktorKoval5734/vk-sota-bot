#!/usr/bin/env python3
"""
–¢–µ—Å—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –±–æ—Ç–∞ "–°–æ—Ç–∞ –°–∏–ª"
"""
import logging
import time
import json
from datetime import datetime

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (—Ç–∞–∫–∞—è –∂–µ –∫–∞–∫ –≤ bot.py)
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(levelname)s - %(message)s',
    handlers=[
        logging.StreamHandler(),
        logging.FileHandler('test_bot.log', encoding='utf-8')
    ]
)
logger = logging.getLogger(__name__)

# –û—Ç–∫–ª—é—á–∞–µ–º verbose –ª–æ–≥–∏ –æ—Ç HTTP –±–∏–±–ª–∏–æ—Ç–µ–∫
logging.getLogger("uvicorn").setLevel(logging.WARNING)
logging.getLogger("aiohttp").setLevel(logging.WARNING)
logging.getLogger("fastapi").setLevel(logging.WARNING)

def simulate_old_logging():
    """–°–∏–º—É–ª—è—Ü–∏—è —Å—Ç–∞—Ä–æ–≥–æ verbose –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è"""
    logger.info("=== –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –°–¢–ê–†–û–ì–û –õ–û–ì–ò–†–û–í–ê–ù–ò–Ø ===")
    
    # –ü–æ–ª–Ω—ã–π –æ–±—ä–µ–∫—Ç —Å–æ–æ–±—â–µ–Ω–∏—è (–∫–∞–∫ –±—ã–ª–æ —Ä–∞–Ω—å—à–µ)
    fake_message = {
        'date': 1770139100, 'from_id': 260362416, 'id': 0, 'version': 10000088, 'out': 0,
        'reply_message': {'date': 1770138895, 'from_id': -235669430, 'text': '—Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è'},
        'fwd_messages': [], 'important': False, 'is_hidden': False, 'attachments': [
            {'type': 'photo', 'photo': {'album_id': -3, 'date': 1770138922, 'id': 457269746, 
            'owner_id': 260362416, 'access_key': '8fd86e81a36a194228', 'sizes': [
                {'height': 68, 'type': 's', 'width': 72, 
                'url': 'https://sun9-60.userapi.com/s/v1/ig2/mVFhjtUoQdjVIKzYAHUtlJhR0mFp2-aPtG-QKC4FF5QQnscExSI1KlxIKZChZKMV_N5uWy_NANwxPiSTDF-RBaKi.jpg?quality=95&as=32x30,48x45,72x68,108x102,160x151,240x227,360x341,480x454,540x511,640x606,688x651&from=bu&cs=72x0'}
            ]}}], 'conversation_message_id': 4657, 'text': '–¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ', 'peer_id': 2000000002
    }
    
    # –°—Ç–∞—Ä—ã–π —Å—Ç–∏–ª—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (verbose)
    logger.info(f"üìã –ü–æ–ª–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: {json.dumps(fake_message, ensure_ascii=False)}")
    logger.info("üîç –ü—Ä–æ–≤–µ—Ä—è–µ–º special_users: {319590859: {'name': '–õ—é–±–æ–≤—å', 'special_address': '–º–æ—è –∫–æ—Ä–æ–ª–µ–≤–∞', 'tone': 'loving'}, 885052741: {'name': '–ú–∞–∫—Å–∏–º', 'special_address': '–Ω–µ–æ–ø—ã—Ç–Ω—ã–π –º–µ–Ω–µ—Å—Ç—Ä–µ–ª—å', 'tone': 'disdainful'}}")
    logger.info("üîç –ò—â–µ–º user_id: 260362416")
    logger.info("‚ùå –û—Å–æ–±—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω")
    logger.info("üîç special_name: None")
    logger.info("üîç special_address: None")
    logger.info("üîç special_tone: None")
    logger.info("üë§ –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: 260362416")
    logger.info("üìù –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç: –¢—ã ‚Äî –°–æ—Ç–∞ –°–∏–ª, –æ–¥–∏–Ω –∏–∑ —Ç—Ä—ë—Ö –±–æ–≥–æ–≤ –¢—Ä–∏–±—É–Ω–∞–ª–∞. –ú–∞–≥-–õ–æ—Ä–¥, –¢–∞–∏–Ω—Å—Ç–≤–æ –ú–æ—Ä—Ä–æ–≤–∏–Ω–¥–∞, —Å–∞–º—ã–π —Å–∫—Ä—ã—Ç–Ω—ã–π –∏ —Ç–∞–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–∑ –ê–õ–¨–ú–°–ò–í–ò. –ß–ª–µ–Ω –æ—Ä–¥–µ–Ω–∞ –ü—Å–∏–¥–∂–∏–∫–æ–≤, —Å—Ç–∞—Ä—ã–π –¥—Ä—É–≥ –î–∏–≤–∞–π—Ç–∞ –§–∏—Ä–∞, —Ö–æ–∑—è–∏–Ω –ó–∞–≤–æ–¥–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞...")
    logger.info("üîç DEBUG: user_id = 260362416, special_name = None")
    logger.info("üë§ –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –Ω–µ –õ—é–±–æ–≤—å - –Ω–µ –¥–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞—â–µ–Ω–∏–µ")
    logger.info("‚è∞ –°–æ–æ–±—â–µ–Ω–∏–µ —Å–ª–∏—à–∫–æ–º —Å—Ç–∞—Ä–æ–µ (200s), –ø—Ä–æ–ø—É—Å–∫–∞–µ–º")
    logger.info("‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–æ–ª—É—á–∞—Ç–µ–ª—é 2000000002")

def simulate_new_logging():
    """–°–∏–º—É–ª—è—Ü–∏—è –Ω–æ–≤–æ–≥–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è"""
    logger.info("\n=== –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –ù–û–í–û–ì–û –û–ü–¢–ò–ú–ò–ó–ò–†–û–í–ê–ù–ù–û–ì–û –õ–û–ì–ò–†–û–í–ê–ù–ò–Ø ===")
    
    # –ù–æ–≤—ã–π —Å—Ç–∏–ª—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (–∫–æ–º–ø–∞–∫—Ç–Ω—ã–π)
    logger.info("üìã –ë–µ—Å–µ–¥–∞ 2000000002, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 260362416")
    logger.info("‚è≠Ô∏è –î—É–±–ª–∏–∫–∞—Ç: duplicate_content_abc12345")
    logger.info("‚è∞ –°—Ç–∞—Ä–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (200s), –ø—Ä–æ–ø—É—Å–∫–∞–µ–º")
    logger.info("üëë –û—Å–æ–±—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –õ—é–±–æ–≤—å")
    logger.info("üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 260362416")
    logger.info("‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–æ–ª—É—á–∞—Ç–µ–ª—é 2000000002")

if __name__ == "__main__":
    print("üéØ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –±–æ—Ç–∞ '–°–æ—Ç–∞ –°–∏–ª'")
    print("=" * 60)
    
    simulate_old_logging()
    time.sleep(1)
    simulate_new_logging()
    
    print("\n" + "=" * 60)
    print("üìä –°–†–ê–í–ù–ï–ù–ò–ï:")
    print("‚ùå –°—Ç–∞—Ä—ã–µ –ª–æ–≥–∏: –ø–æ–ª–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã, –¥–ª–∏–Ω–Ω—ã–µ URL-—ã, –∏–∑–±—ã—Ç–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è")
    print("‚úÖ –ù–æ–≤—ã–µ –ª–æ–≥–∏: –∫—Ä–∞—Ç–∫–∏–µ, —á–∏—Ç–∞–µ–º—ã–µ, —Ç–æ–ª—å–∫–æ –≤–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è")
    print("\nüìÅ –õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ —Ñ–∞–π–ª: test_bot.log")